<link rel="import" href="bower_components/polymer/polymer-element.html">
<link rel="import" href="bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="bower_components/dolphin-platform-polymer/remoting-controller.html">

<link rel="import" href="bower_components/paper-styles/element-styles/paper-material-styles.html">
<link rel="import" href="bower_components/paper-item/paper-item.html">
<link rel="import" href="bower_components/paper-item/paper-item-body.html">

<dom-module id="process-view">
  <template>
    <custom-style>
      <style is="custom-style" include="paper-material-styles"></style>
    </custom-style>

    <style>
      paper-item .line-parent {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
      }

      paper-item .bottom-border {
        border-bottom: 1px solid lightgrey;
      }

      paper-item .bold {
        font-weight: bold;
      }
    </style>

    <remoting-controller id="controller" name="ProcessMonitorController" model="{{model}}">
    </remoting-controller>

    <div class="layout center-justified">
      <div class="paper-material" elevation="4">
        <template is="dom-repeat" items="[[model.items]]">
          <paper-item>
            <paper-item-body two-line class="bottom-border">
              <div class="line-parent">
                <div class="bold">[[item.name]]</div>
                <div>[[item.processID]]</div>
              </div>
              <div class="line-parent" secondary>
                <div>CPU in %: [[item.cpuPercentage]]</div>
                <div>Memory in %: [[item.memoryPercentage]]</div>
              </div>
            </paper-item-body>
          </paper-item>
        </template>
      </div>
    </div>
  </template>

  <script>
    class ProcessView extends Polymer.Element {
      static get is() {
        return "process-view";
      }
    }

    window.customElements.define(ProcessView.is, ProcessView);
  </script>
</dom-module>
